import{_ as F}from"./over.dd879357.js";import{_ as $}from"./modal.3f7b286a.js";import{u as M}from"./useApi.1f829440.js";import{i as x,o as n,l as a,v as t,u as s,F as w,x as v,y as f,z as b,A as h,c as N,t as r,B as P,C as y,D as B,E as D}from"./entry.96a761ac.js";import{j as G,v as S,K as U}from"./transition.bdc07d39.js";const Z={class:"p-6 w-4/5"},R={class:"bg-white py-6"},T={class:"flex items-center justify-between pb-8"},H=t("h3",{class:"text-2xl font-bold text-slate-700 my-4"},"Accounts List",-1),q={class:"container mx-auto"},z={class:"-mx-4 flex flex-wrap"},I={class:"w-full px-4"},K={key:0,class:"max-w-full overflow-x-auto"},O={class:"w-full table-auto"},J=t("thead",null,[t("tr",{class:"bg-primary text-center"},[t("th",{class:"w-1/6 min-w-[160px] border-l border-transparent py-3 px-3 text-lg font-semibold text-white"},"Name"),t("th",{class:"w-1/6 min-w-[160px] py-3 px-3 text-lg font-semibold text-white"},"Account"),t("th",{class:"w-1/6 min-w-[160px] py-3 px-3 text-lg font-semibold text-white"},"Routing"),t("th",{class:"w-1/6 min-w-[160px] py-3 px-3 text-lg font-semibold text-white"},"Group"),t("th",{class:"w-1/6 min-w-[160px] py-3 px-3 text-lg font-semibold text-white"},"Status"),t("th",{class:"w-1/6 min-w-[160px] py-3 px-3 text-lg font-semibold text-white"},"Proof"),t("th",{class:"w-1/6 min-w-[160px] py-3 px-3 text-lg font-semibold text-white"},"Action")])],-1),Q={class:"text-dark border-b border-l border-[#E8E8E8] bg-[#F3F6FF] h-16 px-2 text-center text-base font-medium"},W={class:"text-dark border-b border-[#E8E8E8] bg-white h-16 px-2 text-center text-base font-medium"},X={class:"text-dark border-b border-[#E8E8E8] bg-white h-16 px-2 text-center text-base font-medium"},Y={class:"text-dark border-b border-[#E8E8E8] bg-white h-16 px-2 text-center text-base font-medium"},tt={class:"text-dark border-b border-[#E8E8E8] bg-white h-16 px-2 text-center text-base font-medium"},et={key:0,class:"text-indigo-500 font-bold"},st={key:1,class:"text-pink-500 font-bold"},ot={key:2,class:"text-lime-500 font-bold"},nt={class:"text-dark border-b border-[#E8E8E8] bg-white py-0 px-2 text-center text-base font-medium cursor-pointer"},lt={class:"flex-1"},at=["onClick"],rt=["onClick"],it=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M7 21q-.825 0-1.413-.588T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.588 1.413T17 21H7ZM17 6H7v13h10V6ZM9 17h2V8H9v9Zm4 0h2V8h-2v9ZM7 6v13V6Z"})],-1),ct=[it],dt={class:"text-dark border-b border-[#E8E8E8] bg-[#F3F6FF] px-2 text-center text-base font-medium"},pt={class:"flex gap-1 w-full flex-wrap"},ut=["onClick"],xt=["onClick"],ht=t("span",{class:"sr-only"},"Close panel",-1),_t=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M20 6.91L17.09 4L12 9.09L6.91 4L4 6.91L9.09 12L4 17.09L6.91 20L12 14.91L17.09 20L20 17.09L14.91 12L20 6.91Z"})],-1),mt=[ht,_t],ft={class:"flex h-full flex-col overflow-y-scroll bg-white py-6 shadow-xl"},bt={class:"px-4 sm:px-6"},wt={class:"relative mt-6 flex-1 px-4 sm:px-6"},vt={class:"my-4"},gt=t("option",{value:""},"Select Group",-1),yt=["value"],kt={class:"w-full mt-4"},Et=t("label",{class:"text-xs text-gray-600"},"EG: name:account:routing",-1),Lt={key:0,class:"text-rose-500 my-4"},Ct={class:"bg-white"},At={class:"sm:flex sm:items-start"},Vt={class:"p-5"},jt=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Ft=[jt],$t={class:"mt-3 border-l text-center sm:mt-0 sm:text-left w-full"},Mt=t("h3",{class:"text-slate-100 p-4 bg-primary text-2xl"},"Proof Details",-1),Nt={class:"flex flex-1 flex-col justify-center p-5 w-full"},Pt={class:"md:col-span-2 md:mt-0"},Bt={class:"my-2"},Dt={class:"my-2"},Gt=["src"],St=["src"],Ut=["src"],Zt=["src"],Rt=t("div",{class:"flex justify-end my-4 gap-1"},[t("button",{class:"bg-primary text-white px-4 py-2 rounded out"},"Save Changes")],-1),Jt={__name:"banks",setup(Tt){const c=M(),u=x("ss"),_=async()=>{const l=await c.get("/api/dash/banks");u.value=l.data};_();const k=async l=>{const o=await c.del("/api/dash/banks/"+l+"/delete");console.log(o),_()},m=x(!1),i=x({group:"",accounts:"",error:""}),E=async()=>{if(!i.value.accounts||!i.value.group){i.value.error="Please fill all fields";return}i.value.error="";const l=await c.post("/api/dash/banks/create",i.value);console.log(l),_(),m.value=!1},L=async l=>{const o=await c.get("/api/dash/banks?approve="+l);u.value=o.data},d=x(""),C=async l=>{const o=await c.del("/api/dash/proofs/"+l+"/delete");console.log(o),_()},g=x([]);return(async()=>{const l=await c.get("/api/dash/groups");g.value=l.data})(),(l,o)=>{const A=F,V=$;return n(),a("section",Z,[t("section",R,[t("div",T,[H,t("a",{onClick:o[0]||(o[0]=e=>m.value=!0),class:"bg-primary cursor-pointer inline-flex items-center h-[50px] justify-center rounded px-6 text-center font-normal text-white hover:bg-opacity-90"}," + Add account ")]),t("div",q,[t("div",z,[t("div",I,[s(u)&&s(u).results?(n(),a("div",K,[t("table",O,[J,t("tbody",null,[(n(!0),a(w,null,v(s(u).results,e=>(n(),a("tr",{key:e.id},[t("td",Q,r(e.name),1),t("td",W,r(e.account),1),t("td",X,r(e.routing),1),t("td",Y,r(e.group.name),1),t("td",tt,[e.status=="COMPLETED"?(n(),a("span",et,r(e.status),1)):e.status=="PENDING"?(n(),a("span",st,r(e.status),1)):(n(),a("span",ot,r(e.status),1))]),t("td",nt,[(n(!0),a(w,null,v(e.proof_set,p=>(n(),a("div",{class:"w-full my-1 text-left flex items-center justify-between",key:p.id},[t("span",lt,"$"+r(p.amount),1),t("span",{onClick:j=>d.value=p,class:"flex-1 text-sm text-indigo-400 border p-1 rounded text-center bg-gray-50"},"See Proof",8,at),t("span",{onClick:j=>C(p.id),class:"px-1"},ct,8,rt)]))),128))]),t("td",dt,[t("div",pt,[t("a",{onClick:p=>k(e.id),class:"bg-primary cursor-pointer inline-flex items-center h-[30px] justify-center rounded px-4 text-center font-normal text-white hover:bg-opacity-90"},"Delete",8,ut),e.status=="PENDING"?(n(),a("a",{key:0,onClick:p=>L(e.id),class:"bg-primary cursor-pointer inline-flex items-center h-[30px] justify-center rounded px-4 text-center font-normal text-white hover:bg-opacity-90"},"Approve",8,xt)):f("",!0)])])]))),128))])])])):f("",!0)])])])]),b(A,{show:s(m)},{default:h(()=>[b(s(G),{class:"pointer-events-auto relative w-screen max-w-md"},{default:h(()=>[b(s(S),{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:h(()=>[t("div",{onClick:o[2]||(o[2]=e=>m.value=!1),class:"absolute top-0 -left-2 flex pt-4 pr-2 sm:-ml-10 sm:pr-4"},[t("span",{type:"button",class:"rounded-full text-slate-600 shadow-xl bg-white hover:text-slate-500 cursor-pointer p-1",onClick:o[1]||(o[1]=e=>l.open=!1)},mt)])]),_:1}),t("div",ft,[t("div",bt,[b(s(U),{class:"text-base font-semibold leading-6 text-gray-900"},{default:h(()=>[P("Add account")]),_:1})]),t("div",wt,[t("div",vt,[y(t("select",{"onUpdate:modelValue":o[3]||(o[3]=e=>s(i).group=e),class:"w-full border border-gray-200 p-2 rounded mt-1"},[gt,(n(!0),a(w,null,v(s(g).results,e=>(n(),a("option",{value:e.id},r(e.name),9,yt))),256))],512),[[B,s(i).group]]),t("div",kt,[Et,y(t("textarea",{"onUpdate:modelValue":o[4]||(o[4]=e=>s(i).accounts=e),rows:"10",class:"w-full border border-gray-200 p-2 rounded mt-1",placeholder:"Username"},null,512),[[D,s(i).accounts]])]),s(i).error?(n(),a("p",Lt,r(s(i).error),1)):f("",!0),t("div",{class:"w-full mt-4"},[t("button",{onClick:E,class:"bg-primary inline-flex items-center h-[50px] justify-center rounded px-6 text-center font-normal text-white hover:bg-opacity-90"},"Add accounts")])])])])]),_:1})]),_:1},8,["show"]),s(d)?(n(),N(V,{key:0},{default:h(()=>[t("div",Ct,[t("div",At,[t("div",Vt,[t("div",{onClick:o[5]||(o[5]=e=>d.value=""),class:"mx-auto cursor-pointer flex h-12 w-12 p-2 flex-shrink-0 items-center justify-center rounded-full bg-rose-500 sm:mx-0 sm:h-10 sm:w-10 text-white hover:shadow-lg"},Ft)]),t("div",$t,[Mt,t("div",Nt,[t("div",Pt,[t("p",Bt,"Amount: "+r(s(d).amount),1),t("p",Dt,"Status: "+r(s(d).status),1),t("img",{src:s(c).baseURL+s(d).sc,alt:""},null,8,Gt),t("img",{src:s(c).baseURL+s(d).sc1,alt:""},null,8,St),t("img",{src:s(c).baseURL+s(d).sc2,alt:""},null,8,Ut),t("img",{src:s(c).baseURL+s(d).sc3,alt:""},null,8,Zt)]),Rt])])])])]),_:1})):f("",!0)])}}};export{Jt as default};
