import{_ as F}from"./over.8db6aea3.js";import{_ as $}from"./modal.b74d943e.js";import{u as M}from"./useApi.1e322299.js";import{i as x,o as n,l as a,v as t,u as e,F as b,x as w,y as f,z as v,A as h,c as P,t as i,B,C as y,D,E as N}from"./entry.9c3217d9.js";import{j as U,v as S,K as G}from"./transition.dc1728f7.js";const Z={class:"p-6 w-4/5"},R={class:"bg-white py-6"},T={class:"flex items-center justify-between pb-8"},H=t("h3",{class:"text-2xl font-bold text-slate-700 my-4"},"Accounts List",-1),q={class:"container mx-auto"},z={class:"-mx-4 flex flex-wrap"},I={class:"w-full px-4"},K={key:0,class:"max-w-full overflow-x-auto"},O={class:"w-full table-auto"},J=t("thead",null,[t("tr",{class:"bg-primary text-center"},[t("th",{class:"w-1/6 min-w-[160px] border-l border-transparent py-3 px-3 text-lg font-semibold text-white"},"Account"),t("th",{class:"w-1/6 min-w-[160px] py-3 px-3 text-lg font-semibold text-white"},"Routing"),t("th",{class:"w-1/6 min-w-[160px] py-3 px-3 text-lg font-semibold text-white"},"Group"),t("th",{class:"w-1/6 min-w-[160px] py-3 px-3 text-lg font-semibold text-white"},"Status"),t("th",{class:"w-1/6 min-w-[160px] py-3 px-3 text-lg font-semibold text-white"},"Proof"),t("th",{class:"w-1/6 min-w-[160px] py-3 px-3 text-lg font-semibold text-white"},"Action")])],-1),Q={class:"text-dark border-b border-l border-[#E8E8E8] bg-[#F3F6FF] h-16 px-2 text-center text-base font-medium"},W={class:"text-dark border-b border-[#E8E8E8] bg-white h-16 px-2 text-center text-base font-medium"},X={class:"text-dark border-b border-[#E8E8E8] bg-white h-16 px-2 text-center text-base font-medium"},Y={class:"text-dark border-b border-[#E8E8E8] bg-white h-16 px-2 text-center text-base font-medium"},tt={key:0,class:"text-indigo-500 font-bold"},et={key:1,class:"text-pink-500 font-bold"},st={key:2,class:"text-lime-500 font-bold"},ot={class:"text-dark border-b border-[#E8E8E8] bg-white py-0 px-2 text-center text-base font-medium cursor-pointer"},nt={class:"flex-1"},lt=["onClick"],at=["onClick"],rt=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M7 21q-.825 0-1.413-.588T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.588 1.413T17 21H7ZM17 6H7v13h10V6ZM9 17h2V8H9v9Zm4 0h2V8h-2v9ZM7 6v13V6Z"})],-1),it=[rt],ct={class:"text-dark border-b border-[#E8E8E8] bg-[#F3F6FF] px-2 text-center text-base font-medium"},dt={class:"flex gap-1 w-full flex-wrap"},pt=["onClick"],ut=["onClick"],xt=t("span",{class:"sr-only"},"Close panel",-1),ht=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M20 6.91L17.09 4L12 9.09L6.91 4L4 6.91L9.09 12L4 17.09L6.91 20L12 14.91L17.09 20L20 17.09L14.91 12L20 6.91Z"})],-1),_t=[xt,ht],mt={class:"flex h-full flex-col overflow-y-scroll bg-white py-6 shadow-xl"},ft={class:"px-4 sm:px-6"},vt={class:"relative mt-6 flex-1 px-4 sm:px-6"},bt={class:"my-4"},wt=t("option",{value:""},"Select Group",-1),gt=["value"],yt={class:"w-full mt-4"},kt=t("label",{class:"text-xs text-gray-600"},"Username",-1),Lt={key:0,class:"text-rose-500 my-4"},Et={class:"bg-white"},Ct={class:"sm:flex sm:items-start"},At={class:"p-5"},Vt=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),jt=[Vt],Ft={class:"mt-3 border-l text-center sm:mt-0 sm:text-left w-full"},$t=t("h3",{class:"text-slate-100 p-4 bg-primary text-2xl"},"Proof Details",-1),Mt={class:"flex flex-1 flex-col justify-center p-5 w-full"},Pt={class:"md:col-span-2 md:mt-0"},Bt={class:"my-2"},Dt={class:"my-2"},Nt=["src"],Ut=["src"],St=["src"],Gt=["src"],Zt=t("div",{class:"flex justify-end my-4 gap-1"},[t("button",{class:"bg-primary text-white px-4 py-2 rounded out"},"Save Changes")],-1),Ot={__name:"banks",setup(Rt){const c=M(),u=x("ss"),_=async()=>{const l=await c.get("/api/dash/banks");u.value=l.data};_();const k=async l=>{const o=await c.del("/api/dash/banks/"+l+"/delete");console.log(o),_()},m=x(!1),r=x({group:"",accounts:"",error:""}),L=async()=>{if(!r.value.accounts||!r.value.group){r.value.error="Please fill all fields";return}r.value.error="";const l=await c.post("/api/dash/banks/create",r.value);console.log(l),_(),m.value=!1},E=async l=>{const o=await c.get("/api/dash/banks?approve="+l);u.value=o.data},d=x(""),C=async l=>{const o=await c.del("/api/dash/proofs/"+l+"/delete");console.log(o),_()},g=x([]);return(async()=>{const l=await c.get("/api/dash/groups");g.value=l.data})(),(l,o)=>{const A=F,V=$;return n(),a("section",Z,[t("section",R,[t("div",T,[H,t("a",{onClick:o[0]||(o[0]=s=>m.value=!0),class:"bg-primary cursor-pointer inline-flex items-center h-[50px] justify-center rounded px-6 text-center font-normal text-white hover:bg-opacity-90"}," + Add account ")]),t("div",q,[t("div",z,[t("div",I,[e(u)&&e(u).results?(n(),a("div",K,[t("table",O,[J,t("tbody",null,[(n(!0),a(b,null,w(e(u).results,s=>(n(),a("tr",{key:s.id},[t("td",Q,i(s.account),1),t("td",W,i(s.routing),1),t("td",X,i(s.group.name),1),t("td",Y,[s.status=="COMPLETED"?(n(),a("span",tt,i(s.status),1)):s.status=="PENDING"?(n(),a("span",et,i(s.status),1)):(n(),a("span",st,i(s.status),1))]),t("td",ot,[(n(!0),a(b,null,w(s.proof_set,p=>(n(),a("div",{class:"w-full my-1 text-left flex items-center justify-between",key:p.id},[t("span",nt,"$"+i(p.amount),1),t("span",{onClick:j=>d.value=p,class:"flex-1 text-sm text-indigo-400 border p-1 rounded text-center bg-gray-50"},"See Proof",8,lt),t("span",{onClick:j=>C(p.id),class:"px-1"},it,8,at)]))),128))]),t("td",ct,[t("div",dt,[t("a",{onClick:p=>k(s.id),class:"bg-primary cursor-pointer inline-flex items-center h-[30px] justify-center rounded px-4 text-center font-normal text-white hover:bg-opacity-90"},"Delete",8,pt),s.status=="PENDING"?(n(),a("a",{key:0,onClick:p=>E(s.id),class:"bg-primary cursor-pointer inline-flex items-center h-[30px] justify-center rounded px-4 text-center font-normal text-white hover:bg-opacity-90"},"Approve",8,ut)):f("",!0)])])]))),128))])])])):f("",!0)])])])]),v(A,{show:e(m)},{default:h(()=>[v(e(U),{class:"pointer-events-auto relative w-screen max-w-md"},{default:h(()=>[v(e(S),{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:h(()=>[t("div",{onClick:o[2]||(o[2]=s=>m.value=!1),class:"absolute top-0 -left-2 flex pt-4 pr-2 sm:-ml-10 sm:pr-4"},[t("span",{type:"button",class:"rounded-full text-slate-600 shadow-xl bg-white hover:text-slate-500 cursor-pointer p-1",onClick:o[1]||(o[1]=s=>l.open=!1)},_t)])]),_:1}),t("div",mt,[t("div",ft,[v(e(G),{class:"text-base font-semibold leading-6 text-gray-900"},{default:h(()=>[B("Add account")]),_:1})]),t("div",vt,[t("div",bt,[y(t("select",{"onUpdate:modelValue":o[3]||(o[3]=s=>e(r).group=s),class:"w-full border border-gray-200 p-2 rounded mt-1"},[wt,(n(!0),a(b,null,w(e(g).results,s=>(n(),a("option",{value:s.id},i(s.name),9,gt))),256))],512),[[D,e(r).group]]),t("div",yt,[kt,y(t("textarea",{"onUpdate:modelValue":o[4]||(o[4]=s=>e(r).accounts=s),rows:"10",class:"w-full border border-gray-200 p-2 rounded mt-1",placeholder:"Username"},null,512),[[N,e(r).accounts]])]),e(r).error?(n(),a("p",Lt,i(e(r).error),1)):f("",!0),t("div",{class:"w-full mt-4"},[t("button",{onClick:L,class:"bg-primary inline-flex items-center h-[50px] justify-center rounded px-6 text-center font-normal text-white hover:bg-opacity-90"},"Add accounts")])])])])]),_:1})]),_:1},8,["show"]),e(d)?(n(),P(V,{key:0},{default:h(()=>[t("div",Et,[t("div",Ct,[t("div",At,[t("div",{onClick:o[5]||(o[5]=s=>d.value=""),class:"mx-auto cursor-pointer flex h-12 w-12 p-2 flex-shrink-0 items-center justify-center rounded-full bg-rose-500 sm:mx-0 sm:h-10 sm:w-10 text-white hover:shadow-lg"},jt)]),t("div",Ft,[$t,t("div",Mt,[t("div",Pt,[t("p",Bt,"Amount: "+i(e(d).amount),1),t("p",Dt,"Status: "+i(e(d).status),1),t("img",{src:e(c).baseURL+e(d).sc,alt:""},null,8,Nt),t("img",{src:e(c).baseURL+e(d).sc1,alt:""},null,8,Ut),t("img",{src:e(c).baseURL+e(d).sc2,alt:""},null,8,St),t("img",{src:e(c).baseURL+e(d).sc3,alt:""},null,8,Gt)]),Zt])])])])]),_:1})):f("",!0)])}}};export{Ot as default};
